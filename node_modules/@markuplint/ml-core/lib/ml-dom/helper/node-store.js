"use strict";
var _NodeStore_store;
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const ml_parse_error_1 = tslib_1.__importDefault(require("../../ml-error/ml-parse-error"));
class NodeStore {
    constructor() {
        _NodeStore_store.set(this, new Map());
    }
    setNode(astNode, node) {
        tslib_1.__classPrivateFieldGet(this, _NodeStore_store, "f").set(astNode.uuid, node);
    }
    getNode(astNode) {
        // console.log(`Get: ${astNode.uuid} -> ${astNode.raw.trim()}(${astNode.type})`);
        const node = tslib_1.__classPrivateFieldGet(this, _NodeStore_store, "f").get(astNode.uuid);
        if (!node) {
            throw new ml_parse_error_1.default(astNode.startLine, astNode.startCol, astNode.raw, astNode.nodeName);
        }
        return node;
    }
}
exports.default = NodeStore;
_NodeStore_store = new WeakMap();
